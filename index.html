<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>å°å­¦å£ç®—é¢˜ç”Ÿæˆå™¨</title>
    <style>
        body { font-family: "Microsoft YaHei", sans-serif; padding: 15px; background:#f9f9f9; }
        input, select, button { padding: 10px; margin: 6px 0; width: 100%; box-sizing: border-box; border:1px solid #ccc; border-radius:6px; }
        .question { background:white; padding:10px; margin:6px 0; border-radius:6px; box-shadow:0 1px 2px rgba(0,0,0,0.05); }
        .grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; }
        @media (min-width: 600px) { .grid { grid-template-columns: repeat(4, 1fr); } }
        button { background:#4CAF50; color:white; font-weight:bold; }
        h2 { text-align:center; color:#2c3e50; }
        #loading { display:none; color:#e74c3c; }
    </style>
</head>
<body>
    <h2>ğŸ“± å°å­¦å£ç®—é¢˜ç”Ÿæˆå™¨</h2>
    <form id="form">
        èŒƒå›´ï¼š<input type="number" name="start" value="1" min="0"> åˆ° 
        <input type="number" name="end" value="10" min="1"><br>
        é¢˜é‡ï¼š<input type="number" name="count" value="20" min="1" max="100"><br>
        é¢˜å‹ï¼š<select name="op">
            <option value="add">åŠ æ³•</option>
            <option value="sub">å‡æ³•</option>
            <option value="mul">ä¹˜æ³•</option>
            <option value="div">é™¤æ³•</option>
        </select><br>
        <button type="submit">ğŸ”¥ ç”Ÿæˆé¢˜ç›®</button>
        <div id="loading">æ­£åœ¨ç”Ÿæˆ...</div>
    </form>
    <hr>
    <div class="grid" id="output"></div>

    <script>
        document.getElementById('form').addEventListener('submit', async (e) => {
            e.preventDefault();
            const formData = new FormData(e.target);
            const params = new URLSearchParams();
            for (let [k, v] of formData) params.append(k, v);

            document.getElementById('loading').style.display = 'block';
            try {
                const res = await fetch('/api/generate?' + params.toString());
                const questions = await res.json();
                const output = document.getElementById('output');
                output.innerHTML = questions.map(q => `<div class="question">${q}</div>`).join('');
            } catch (err) {
                alert('ç”Ÿæˆå¤±è´¥ï¼Œè¯·é‡è¯•');
            }
            document.getElementById('loading').style.display = 'none';
        });
    </script>
</body>
</html>